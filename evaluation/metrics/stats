cat news.all.csv.stats | perl -e 'my $t=[]; my $m={}; open FH, "news.topics.csv"; while (<FH>) { chomp; my @a=split(/,/); $m->{$a[0]} = $a[3]; } while (<>) { chomp; my @f=split(/,/); push @$t, {topic=>$f[0], mass=>$f[2], massa=>$f[3], vel=>$f[4], weight=>$f[5]} if $f[1] eq "2012-09-05"; } for my $i (sort {$b->{weight} <=> $a->{weight}} @$t) { print "$i->{topic}\t$i->{mass}\t$i->{massa}\t$i->{vel}\t$i->{weight}\t$m->{$i->{topic}}\n"; }'
